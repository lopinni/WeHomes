<template>
    <template if:false={loaded}>
        <lightning-spinner alternative-text={labels.LOADING}> </lightning-spinner>
    </template>
    <template if:true={loaded}>
        <div class="slds-page-header__row" style="padding-bottom: 1em;">
            <div class="slds-page-header__col-title">
                <div class="slds-media">
                    <div class="slds-media__body">
                        <div class="slds-page-header__name">
                            <lightning-icon icon-name="standard:case_change_status"> </lightning-icon>
                            <div class="slds-page-header__name-title slds-align_absolute-center">
                                <h1 style="padding-left: 1em">
                                    <span class="slds-page-header__title slds-truncate"> {labels.LOG_A_CASE} </span>
                                </h1>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <lightning-flow 
            flow-api-name='Community_Create_Case'
            onstatuschange={handleStatusChange}
        > </lightning-flow>
        <div class="slds-page-header__row" style="padding-bottom: 1em;">
            <div class="slds-page-header__col-title">
                <div class="slds-media">
                    <div class="slds-media__body">
                        <div class="slds-page-header__name">
                            <lightning-icon icon-name="standard:case"> </lightning-icon>
                            <div class="slds-page-header__name-title slds-align_absolute-center">
                                <h1 style="padding-left: 1em">
                                    <span class="slds-page-header__title slds-truncate"> {labels.MY_CASES} </span>
                                </h1>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div style="padding: 1em;">
            <lightning-datatable
                key-field="caseNumber"
                data={caseDataTemp}
                columns={caseColumns}
                hide-checkbox-column="true"
            > </lightning-datatable>
        </div>
        <template if:true={showPaginationControls}>
            <c-pagination-controls page={page} pages-number={pages} onmove={handleMove}> </c-pagination-controls>
        </template>
    </template>
</template>